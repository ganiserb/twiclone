{% extends 'base.html' %}

{% load static %}
{#{% static "edit_profile_control.js" as js_edit_form %} TODO: Por qué no funciona? #}


{% block content %}
    <div class="row"> <!-- Profile summary -->
        <div class="col-md-4">
            <img src="{{ profile.avatar.url }}" alt="{{ profile.user.username }}" class="img-thumbnail">
            {% if show_edit_button %}
                <a href="#">
                    <button id="edit_profile_button" type="button" class="btn btn-default center-block">Editar</button>
                </a>
            {% endif %}
        </div>
        <div class="col-md-8">
            <h1>{{ profile.user.username }}</h1>
            <div class="well well-sm">{{ profile.bio }}</div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2 col-md-offset-5">
            folowers
        </div>
        <div class="col-md-2 col-md-offset-2">
            following
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <h3>Tags</h3>
            <ul>
            {% for tag in interest_tags %}
                <li>{{ tag.tag_name }}</li>
            {% endfor %}
            </ul>

            {% if show_edit_button %}
                <form id="edit_profile_form" method="post">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <input type="submit" value="Submit" />
                </form>
            {% endif %}

        </div>
    </div>
{% endblock content %}

{% block bottom_scripts %}
    <script src="{% static "edit_profile_control.js" %}"></script> {# TODO: Esto funcionaría si no estuviese >load static< en base.html? #}
{% endblock bottom_scripts %}